<!DOCTYPE HTML>
<html>
    <head>
        <title> try to get json</title>
        <script type="text/javascript" src="try.js"></script>
        <script type = "text/javascript" 
         src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    </head>
    
    <body>
        <h1>HTTP_request</h1>
       <input type = "button" id = "req" value = "Return_1" />
          <input type = "button" id = "request" value = "Return_2" />
        <input type = "button" id = "reqq" value = "Return_1_github" />
          <input type = "button" id = "requestq" value = "Return_2_github" />
        <p>after click the return, it should alert the json...</p>
        <script>
            $("#req").click(function(){
                            alert("using XMLHttpRequest");
                            var xhr = new XMLHttpRequest();
            xhr.open('GET', "https://kitchencop.herokuapp.com/recalls/1.json", true);
            xhr.send();
            xhr.onreadystatechange = processRequest;
            processRequest();
            function processRequest(e) {
                if (xhr.readyState == 4 && xhr.status ==200) {
                    var response = xhr.responseText;
                    alert(response);
                
                }
                else{
                    alert(xhr.status);
                }
            }
        xhr.addEventListener("readystatechange", processRequest, false);
            });
            
             $("#request").click(function(event){
                 alert("using getJSON")
               $.getJSON("https://kitchencop.herokuapp.com/recalls/1.json", function(jd) {
                  alert(jd);
               });
            }); 
            $("#reqq").click(function(){
                            alert("using XMLHttpRequest");
                            var xhr = new XMLHttpRequest();
            xhr.open('GET', "https://raw.githubusercontent.com/Bruce-Yu-Xi/Bruce-Yu-Xi.github.io/master/2.json", true);
            xhr.send();
            xhr.onreadystatechange = processRequest;
            processRequest();
            function processRequest(e) {
                if (xhr.readyState == 4 && xhr.status ==200) {
                    var response = xhr.responseText;
                    alert(response);
                
                }
                else{
                    alert(xhr.status);
                }
            }
        xhr.addEventListener("readystatechange", processRequest, false);
            });
            
             $("#requestq").click(function(event){
                 alert("using getJSON")
               $.getJSON('https://bruce-yu-xi.github.io/2.json', function(jd) {
                  alert("ID:"+jd.product_id+"   Reason:"+jd.reason);
               });
            }); 
        </script>
        

    </body>
</html>